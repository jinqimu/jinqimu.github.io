---
title: '[原]牛客练习赛25 A 签到题 因数个数和'
tags: []
date: 2018-08-24 22:34:17
---

链接：[https://www.nowcoder.com/acm/contest/158/A](https://www.nowcoder.com/acm/contest/158/A)

来源：牛客网

## 题目描述

q次询问，每次给一个x，问1到x的因数个数的和。

## 输入描述:

<pre>
第一行一个正整数q ；
接下来q行，每行一个正整数 x</pre>

## 输出描述:

<pre>
共q行，每行一个正整数表示答案</pre>

示例1

## 输入

<a>复制</a>

<pre>
4
1
2
3
10</pre>

## 输出

<a>复制</a>

<pre>
1
3
5
27</pre>

## 说明

<pre>
1的因数有1

2的因数有1,2

3的因数有1,3

以此类推</pre>

## 备注:

<pre>
1&lt;=q&lt;=10 ,1&lt;= x&lt;=109</pre>

* * *

一开始想打表仔细一看是1加到x，显然不行

启用oeis公式

代码如下

<pre class="has">
`//---JQM---//
#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;stack&gt;
#include &lt;queue&gt;
#define INF 0x3f3f3f3f
using namespace std;
typedef long long ll;
typedef unsigned long long ull;

ll yin(ll n)
{
    ll l, temp;
    ll ans = 0;
    for( l = 1; l &lt;= n; l = temp+1)
    {
        temp = n/(n/l);
        ans += n/l * (temp - l + 1);
    }
    return ans;
}
int main()
{
    int t;
    cin&gt;&gt;t;
    while(t--)
    {
        ll x;
        cin&gt;&gt; x;
        cout&lt;&lt;yin(x)&lt;&lt;endl;
    }
}`</pre>

* * *

### 赛后出了官方题解，大概是这个意思：

把因数个数和转化为倍数个数和，即![\sum ^n_{i=1} \left \lfloor \frac{n}{i} \right \rfloor](https://private.codecogs.com/gif.latex?%5Csum%20%5En_%7Bi%3D1%7D%20%5Cleft%20%5Clfloor%20%5Cfrac%7Bn%7D%7Bi%7D%20%5Cright%20%5Crfloor)

                    <div>
                        作者：Jqmjyj 发表于 2018/08/24 22:34:17 [原文链接](https://blog.csdn.net/Jqmjyj/article/details/82026073) https://blog.csdn.net/Jqmjyj/article/details/82026073                    </div>
                    <div>
                        阅读：115 评论：8 [查看评论](https://blog.csdn.net/Jqmjyj/article/details/82026073#comments)                    </div>